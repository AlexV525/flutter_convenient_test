Please see convenient_test/example